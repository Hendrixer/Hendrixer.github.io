angular.module("fx.animations.assist",[]).factory("Assist",["$filter","$window","$timeout",function(a,t,n){return{emit:function(a,t,n){var e=angular.element(a).scope();e.$emit(n)},parseClassList:function(n){var e=n[0].classList,i={trigger:!1,duration:.3,ease:t.Back};return angular.forEach(e,function(n){if("fx-easing"===n.slice(0,9)){var e=n.slice(10);i.ease=t[a("cap")(e)]?t[a("cap")(e)]:t.Elastic}"fx-trigger"===n&&(i.trigger=!0),"fx-speed"===n.slice(0,8)&&(i.duration=parseInt(n.slice(9))/1e3)}),i},addTimer:function(a,t,e){var i=this,r=a.stagger?3*a.duration*1e3:1e3*a.duration,o=n(function(){a.trigger&&i.emit(t,a.animation,a.motion)},r).then(e);t.data(a.timeoutKey,o)},removeTimer:function(a,t,e){n.cancel(e),a.removeData(t)}}}]).filter("cap",[function(){return function(a){return a.charAt(0).toUpperCase()+a.slice(1)}}]),angular.module("fx.animations.create",["fx.animations.assist"]).factory("FadeAnimation",["$timeout","$window","Assist",function(a,t,n){return function(a){var t=a.enter,e=a.leave,i=a.inverse||a.leave,r=a.animation,o="$$fxTimer";this.enter=function(a,i){var s=n.parseClassList(a);return s.motion="enter",s.animation=r,s.timeoutKey=o,n.addTimer(s,a,i),t.ease=s.ease.easeOut,TweenMax.set(a,e),TweenMax.to(a,s.duration,t),function(t){var e=a.data(o);t&&e&&n.removeTimer(a,o,e)}},this.leave=function(a,e){var s=n.parseClassList(a);return s.motion="leave",s.animation=r,s.timeoutKey=o,n.addTimer(s,a,e),i.ease=s.ease.easeIn,TweenMax.set(a,t),TweenMax.to(a,s.duration,i),function(t){var e=a.data(o);t&&e&&n.removeTimer(a,o,e)}},this.move=function(a,i){var s=n.parseClassList(a);return s.motion="move",s.animation=r,s.timeoutKey=o,n.addTimer(s,a,i),TweenMax.set(a,e),TweenMax.to(a,s.duration,t),function(t){if(t){var e=a.data(o);e&&n.removeTimer(a,o,e)}}},this.beforeAddClass=function(a,t,e){if("ng-hide"===t&&t.hide){var s=n.parseClassList(a);return s.motion="enter",s.animation=r,s.timeoutKey=o,n.addTimer(s,a,e),TweenMax.to(a,s.duration,i),function(t){if(t){var e=a.data(o);e&&n.removeTimer(a,o,e)}}}e()},this.removeClass=function(a,i,s){if(t.onComplete=s,"ng-hide"===i&&i.show){var m=n.parseClassList(a);return m.motion="enter",m.animation=r,m.timeoutKey=o,TweenMax.set(a,e),TweenMax.to(a,m.duration,t),function(t){if(t){var e=a.data(o);e&&n.removeTimer(a,o,e)}}}s()}}}]).factory("BounceAnimation",["$timeout","$window","Assist",function(a,t,n){return function(a){var t=a.first,e=a.mid,i=a.third,r=a.end,o=a.animation,s="$$fxTimer";this.enter=function(a,m){var f=n.parseClassList(a);f.motion="enter",f.animation=o,f.timeoutKey=s,f.stagger=!0,n.addTimer(f,a,m);var u=new TimelineMax;return u.to(a,t),u.to(a,f.duration,e),u.to(a,f.duration,i),u.to(a,f.duration,r),function(t){if(t){var e=a.data(s);e&&n.removeTimer(a,s,e)}}},this.leave=function(a,m){var f=n.parseClassList(a);f.motion="leave",f.animation=o,f.timeoutKey=s,f.stagger=!0,n.addTimer(f,a,m);var u=new TimelineMax;return u.to(a,r),u.to(a,f.duration,i),u.to(a,f.duration,e),u.to(a,f.duration,t),function(t){if(t){var e=a.data(s);e&&n.removeTimer(a,s,e)}}},this.move=function(a,m){var f=n.parseClassList(a);f.motion="leave",f.animation=o,f.timeoutKey=s,f.stagger=!0,n.addTimer(f,a,m);var u=new TimelineMax;return u.to(a,t),u.to(a,f.duration,e),u.to(a,f.duration,i),u.to(a,f.duration,r),function(a){a&&u.kill()}},this.beforeAddClass=function(a,m,f){if("ng-hide"===m&&m.hide){var u=n.parseClassList(a);u.motion="beforeAddClass",u.animation=o,u.timeoutKey=s,n.addTimer(u,a,f);var d=new TimelineMax;return d.to(a,r),d.to(a,u.duration,i),d.to(a,u.duration,e),d.to(a,u.duration,t),function(t){if(t){var e=a.data(s);e&&n.removeTimer(a,s,e)}}}f()},this.removeClass=function(a,m,f){if("hg-hide"===m&&m.show){var u=n.parseClassList(a);u.motion="removeClass",u.animation=o,u.timeoutKey=s;var d=new TimelineMax;return d.to(a,t),d.to(a,u.duration,e),d.to(a,u.duration,i),d.to(a,u.duration,r),function(t){if(t){var e=a.data(s);e&&n.removeTimer(a,s,e)}}}f()}}}]),angular.module("fx.animations.bounces",["fx.animations.create"]).animation(".fx-bounce-normal",["BounceAnimation",function(a){var t={first:{opacity:0,transform:"scale(.3)"},mid:{opacity:1,transform:"scale(1.05)"},third:{transform:"scale(.9)"},end:{opacity:1,transform:"scale(1)"},animation:"bounce-normal"};return new a(t)}]).animation(".fx-bounce-down",["BounceAnimation",function(a){var t={first:{opacity:0,transform:"translateY(-2000px)"},mid:{opacity:1,transform:"translateY(30px)"},third:{transform:"translateY(-10px)"},end:{transform:"translateY(0)"},animation:"bounce-down"};return new a(t)}]).animation(".fx-bounce-left",["BounceAnimation",function(a){var t={first:{opacity:0,transform:"translateX(-2000px)"},mid:{opacity:1,transform:"translateX(30px)"},third:{transform:"translateX(-10px)"},end:{transform:"translateX(0)"},animation:"bounce-left"};return new a(t)}]).animation(".fx-bounce-up",["BounceAnimation",function(a){var t={first:{opacity:0,transform:"translateY(2000px)"},mid:{opacity:1,transform:"translateY(-30px)"},third:{transform:"translateY(10px)"},end:{transform:"translateY(0)"},animation:"bounce-up"};return new a(t)}]),angular.module("fx.animations.fades",["fx.animations.create"]).animation(".fx-fade-normal",["FadeAnimation",function(a){var t={enter:{opacity:1},leave:{opacity:0},animation:"fade-normal"};return new a(t)}]).animation(".fx-fade-down",["FadeAnimation",function(a){var t={enter:{opacity:1,transform:"translateY(0)"},leave:{opacity:0,transform:"translateY(-20px)"},inverse:{opacity:0,transform:"translateY(20px)"},animation:"fade-down"};return new a(t)}]).animation(".fx-fade-down-big",["FadeAnimation",function(a){var t={enter:{opacity:1,transform:"translateY(0)"},leave:{opacity:0,transform:"translateY(-2000px)"},inverse:{opacity:0,transform:"translateY(2000px)"},animation:"fade-down-big"};return new a(t)}]).animation(".fx-fade-left",["FadeAnimation",function(a){var t={enter:{opacity:1,transform:"translateX(0)"},leave:{opacity:0,transform:"translateX(-20px)"},inverse:{opacity:0,transform:"translateX(20px)"},animation:"fade-left"};return new a(t)}]).animation(".fx-fade-left-big",["FadeAnimation",function(a){var t={enter:{opacity:1,transform:"translateX(0)"},leave:{opacity:0,transform:"translateX(-2000px)"},inverse:{opacity:0,transform:"translateX(2000px)"},animation:"fade-left-big"};return new a(t)}]).animation(".fx-fade-right",["FadeAnimation",function(a){var t={enter:{opacity:1,transform:"translateX(0)"},leave:{opacity:0,transform:"translateX(20px)"},inverse:{opacity:0,transform:"translateX(-20px)"},animation:"fade-right"};return new a(t)}]).animation(".fx-fade-right-big",["FadeAnimation",function(a){var t={enter:{opacity:1,transform:"translateX(0)"},leave:{opacity:0,transform:"translateX(2000px)"},inverse:{opacity:0,transform:"translateX(-2000px)"},animation:"fade-right-big"};return new a(t)}]).animation(".fx-fade-up",["FadeAnimation",function(a){var t={enter:{opacity:1,transform:"translateY(0)"},leave:{opacity:0,transform:"translateY(20px)"},inverse:{opacity:0,transform:"translateY(-20px)"},animation:"fade-up"};return new a(t)}]).animation(".fx-fade-up-big",["FadeAnimation",function(a){var t={enter:{opacity:1,transform:"translateY(0)"},leave:{opacity:0,transform:"translateY(2000px)"},inverse:{opacity:0,transform:"translateY(-2000px)"},animation:"fade-up-big"};return new a(t)}]),angular.module("fx.animations",["fx.animations.fades","fx.animations.bounces"]);